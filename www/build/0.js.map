{"version":3,"sources":["../../src/pages/signup/signup.module.ts","../../src/pages/signup/signup.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { SignupPage } from './signup';\n\n@NgModule({\n    declarations: [\n        SignupPage,\n    ],\n    imports: [\n        IonicPageModule.forChild(SignupPage),\n    ],\n    exports: [\n        SignupPage\n    ]\n})\nexport class SignupPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.module.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ToastController, AlertController, IonicPage } from 'ionic-angular';\nimport * as WC from 'woocommerce-api';\nimport { WoocommerceProvider } from \"../../providers/woocommerce/woocommerce\";\n\n@IonicPage()\n@Component({\n  selector: 'page-signup',\n  templateUrl: 'signup.html',\n})\nexport class SignupPage {\n \n  WooCommerce: any;\n  newUser: any = {};\n  billing_shipping_same: boolean;\n  existenuser: any[]=[];\n  newu:any[]=[];\n  WoCommerce: any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public toastCtrl: ToastController, public alertCtrl: AlertController, private WP: WoocommerceProvider) {\n\n    this.newUser.billing_address = {};\n    this.newUser.shipping_address = {};\n    this.billing_shipping_same = false;\n\n    this.WooCommerce = WP.init();\n  }\n \n  setBillingToShipping() {\n    this.billing_shipping_same = !this.billing_shipping_same;\n\n    if (this.billing_shipping_same) {\n      this.newUser.shipping_address = this.newUser.billing_address;\n    }\n  }\n\n  checkEmail(){\n\n    let validEmail = false;\n\n    let reg =/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    if (reg.test(this.newUser.email)) {\n      \n      this.WooCommerce.getAsync(\"customers?email=\"+this.newUser.email).then( (data) => {\n        let res = (JSON.parse(data.body));\n        for(var k = 0; k <= res.length; k++){\n          var por = this.newu.push(res[k]);\n         }\n        if (por == 1) {\n          validEmail = true;\n\n          this.toastCtrl.create({\n            message: \"Congratulations. Email is good to go.\",\n            duration: 3000\n          }).present();\n\n        }\n        else {\n          validEmail = false;\n\n          this.toastCtrl.create({\n            message: \"Email already registered. Please check.\",\n            showCloseButton: true\n          }).present();\n        }\n\n        console.log(validEmail);\n\n\n      })\n\n    }\n    else {\n      validEmail = false;\n\n      this.toastCtrl.create({\n        message: \"Invalid Email. Please check.\",\n        showCloseButton: true\n      }).present();\n\n      console.log(validEmail);\n         \n    }\n\n  }\n\n  signup(){\n    this.WoCommerce = WC({\n      url: \"https://mqv.biz/luisc\",\n      consumerKey: \"ck_2510794c2178b74e1789e4772c472f6cea3d3195\",\n      consumerSecret: \"cs_163d8843eb869f0b1cf4c0ef66cbdead6309c34e\",\n      wpAPI: true\n    });\n    let customerData = {\n      customer : {}\n    }\n\n    customerData.customer = {\n      \"email\": this.newUser.email,\n      \"first_name\": this.newUser.first_name,\n      \"last_name\": this.newUser.last_name,\n      \"username\": this.newUser.username,\n      \"password\": this.newUser.password,\n      \"billing_address\": {\n        \"first_name\": this.newUser.first_name,\n        \"last_name\": this.newUser.last_name,\n        \"company\": \"\",\n        \"address_1\": this.newUser.billing_address.address_1,\n        \"address_2\": this.newUser.billing_address.address_2,\n        \"city\": this.newUser.billing_address.city,\n        \"state\": this.newUser.billing_address.state,\n        \"postcode\": this.newUser.billing_address.postcode,\n        \"country\": this.newUser.billing_address.country,\n        \"email\": this.newUser.email,\n        \"phone\": this.newUser.billing_address.phone\n      },\n      \"shipping_address\": {\n        \"first_name\": this.newUser.first_name,\n        \"last_name\": this.newUser.last_name,\n        \"company\": \"\",\n        \"address_1\": this.newUser.shipping_address.address_1,\n        \"address_2\": this.newUser.shipping_address.address_2,\n        \"city\": this.newUser.shipping_address.city,\n        \"state\": this.newUser.shipping_address.state,\n        \"postcode\": this.newUser.shipping_address.postcode,\n        \"country\": this.newUser.shipping_address.country,\n        \"phone\": this.newUser.shipping_address.phone\n      }\n    }\n    if(this.billing_shipping_same)\n    {\n        this.newUser.shipping_address = this.newUser.shipping_address;\n    }\n\n    this.WoCommerce.postAsync('customers', customerData).then( (data) => {\n\n      let response = (JSON.parse(data.body));\n\n      if(response.customer){\n        this.alertCtrl.create({\n          title: \"Account Created\",\n          message: \"Your account has been created successfully! Please login to proceed.\",\n          buttons: [{\n            text: \"Login\",\n            handler: ()=> {\n              //TODO\n            }\n          }]\n        }).present();\n      } else if(response.errors){\n        this.toastCtrl.create({\n          message: response.errors[0].message,\n          showCloseButton: true\n        }).present();\n      }\n\n    })\n\n  }  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts"],"sourceRoot":""}